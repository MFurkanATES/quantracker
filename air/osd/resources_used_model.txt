Decide on board.
Do we want 100 pin?
That means bigger display but much more expensive ic and bigger board
Or 64 pin and try to get price down

state which tasks are parallel

task osd()
{
   spi  white_spi{
   	pins[miso,sck]
   }
   spi  black_spi{
   	pins[miso,sck]
   }
   // looks like only needs one channel
   // other requirements must be fast
   // so on APB2
   // choice is tim1 or tim8/tim9/tim10/tim11
   // tim1 and 8 overspec
   // tim10/tim11 have no smcr
   // leaves tim1/tim8/tim9
    // also need a trigger from gate timer
    
   //########################
   // tim9 is best choice for spi timer!
   // for tim9 and gate timer tim2
   // tim9 is slave of tim2 -> itr0
   //##################
   timer spi_clock_timer {
      trgi  // input trigger gate from column_gate_timer
      1 channel
   	pins[chx]  // chx is the pwm output that makes the clock
   }
   
   // could poss only require 1 channel
   // for sync_sep very simple timer
   timer sync_sep_timer {
   	2 input pins // maybe only 1 if flipped sense of capture
   	2 channels
   }

   timer column_gate_timer{
      TI1   //
      OC2
      2 channels
   	pins[ch1,ch2]
   }
   
   timer line_counter{
      ETR
      3 channels
      pins[etr]
   }
   external_dac{
   	pins[3 outputs]
   }
   usart av_telem_tx_usart{
   	pins[txo]
   }
    
}
